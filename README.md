# 지하철 노선도 단위 테스트 미션
## ✨ 1단계

### 미션 요구사항
- 지하철 구간 인수 테스트를 단위 테스트로 작성 
  - 구간 단위 테스트
  - 구간 서비스 단위 테스트
  - 구간 서비스 단위 테스트 With Mock 
- 단위 테스트 기반으로 비지니스 로직 리팩토링
- 비지니스 로직을 도메인 클래스로 옮기기

## ✨ 2단계

### 미션 요구사항
- 추가된 요구사항을 정의한 인수 조건 도출
- 인수 조건을 검증하는 인수 테스트 작성
- 예외 케이스 검증 추가
- 인수 테스트 이후 기능 구현은 TDD로 진행하기
- 도메인 레이어 테스트 필수 !

### 지하철 구간 추가 리팩터링
- 기존 구간의 역을 기준으로 새로운 구간을 추가
  - 상행 종점, 하행 종점, 구간 사이에 새로운 구간 등록 가능하게 구현
  - (기존 구간의 거리 - 새로운 구간의 거리) = 변경된 구간의 거리
- 예외 케이스
  - 새로운 구간에 등록된 역이 없을 경우 추가 불가능
  - 새로운 구간에 역이 모두 등록되어있을 경우 추가 불가능
  - 기존 역 사이 길이보다 크거나 같으면 등록 불가능

## ✨ 3단계

### 미션 요구사항
- 추가된 요구사항을 정의한 인수 조건 도출
- 인수 조건을 검증하는 인수 테스트 작성
- 예외 케이스 검증 추가
- 인수 테스트 이후 기능 구현은 TDD로 진행하기
- 도메인 레이어 테스트 필수 !

### 지하철 구간 삭제 리팩터링
- 위치와 상관없이 구간 제거가 가능하도록
- 예외 케이스
  - 구간이 하나만 존재할 경우 삭제할 수 없음
  - 노선에 등록되어있지 않은 역을 삭제할 수 없음


## ✨ 4단계

### 미션 요구사항
- 추가된 요구사항을 정의한 인수 조건 도출
- 인수 조건을 검증하는 인수 테스트 작성
- 예외 케이스 검증 추가
- 인수 테스트 이후 기능 구현은 TDD로 진행하기
- 도메인 레이어 테스트 필수 !

### 요구사항 설명
- 출발역으로 부터 도착역까지의 경로에 있는 역 목록 조회  
- source == 출발역 ID
- target == 도착역 ID
- distance == 경로 구간의 거리

### 미션 수행 순서
- 인수 테스트 성공 시키기
  - mock 서버와 dto를 정의하여 인수 테스트 성공
- outside in 방식으로 구현해보기
  - 컨트롤러 레이어 구현 후 이후 서비스 레이어 구현 서비스 레이어는 테스트 우선 작성 후 기능 구현
  - 서비스 테스트 내부에서 도메인들간의 로직 흐름 검증 - mock 사용
  - 외부 라이브러리를 활용한 로직은 실제 객체를 사용
  - Happy 케이스에 대한 부분만 구현
- inside out 방식으로 구현해보기
  - 도메인 설계 후 도메인 테스트를 시작으로 기능 구현
  - 도메인 단위 테스트를 통해 도메인의 역할과 경계를 설계
  - 도메인 구현이 끝나면 해당 도메인과 관계를 맺는 객체에 대해 기능 구현

### 예외 사항
- 출발역과 도착역이 같은 경우
- 출발역과 도착역이 연결되지 않은 경우
- 존재하지 않은 출발역이나 도착역을 조회할 경우

### 목표!
- outside in, inside out 방식 모두 경험해보기